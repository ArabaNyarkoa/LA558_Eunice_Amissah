usethis::edit_r_environ()
edit_r_environ()
library(leaflet)
library(leaflet.providers)
library(tidyverse)
library(leaflet)
library(leaflet.providers)
library(tidyverse)
library(readxl)
library(sf)
setwd("C:/Users/Eunice/Desktop/Spring2023/Web Mapping and Data Visualization/LA558_Eunice_Amissah/Assignment4")
carCount<- st_read("TexasCarRally.shp")
View(carCount)
carCount <- st_transform(carCount, crs = 4326)
carCount <- carCount %>% rename(count = id_)
carCount <- carCount %>% rename(count = id)
View(carCount)
carCount <- carCount %>% rename(count = id_count)
View(carCount)
map <- leaflet() %>%
setView(-94.5, 42.2, 6)  %>%
addTiles() %>%
addPolygons(data = carCount,
color = "purple", fill = NA, weight = 1)
map
map <- leaflet() %>%
setView(-99.5, 32.2, 6)  %>%
addTiles() %>%
addPolygons(data = carCount,
color = "purple", fill = NA, weight = 1)
map
map <- leaflet() %>%
setView(-99.5, 32.2, 4)  %>%
addTiles() %>%
addPolygons(data = carCount,
color = "purple", fill = NA, weight = 1)
map
map <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount,
color = "purple", fill = NA, weight = 1)
map
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount,
color = "purple", fill = NA, weight = 1)
txmap
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount,
color = "purple", fill = NA, weight = 2)
txmap
library(leaflet)
library(leaflet.providers)
library(tidyverse)
library(readxl)
library(sf)
carCount<- st_read("TXCarRally.shp")
carCount <- st_transform(carCount, crs = 4326)
View(txmap)
View(map)
View(carCount)
View(carCount)
carCount <- carCount %>% rename(count = first_name)
View(carCount)
carCount <- carCount %>% rename(Count = first_name)
View(carCount)
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount,
color = "purple", fill = NA, weight = 2)
txmap
View(carCount)
View(carCount)
carCount_selection1 <- carCount %>%
filter(CNTY_NM %in% c("Harris", "Uvalde", "Fayette"))
View(carCount_selection1)
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = studentCount_selection1,  # borders of all counties
color = "#800080", fillColor = "lavender", weight = 2, opacity = 0.5)
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount_selection1,  # borders of all counties
color = "#800080", fillColor = "lavender", weight = 2, opacity = 0.5)
txmap
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount_selection1,  # borders of all counties
color = "#800080", fillColor = "pink", weight = 2, opacity = 0.5)
txmap
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount_selection1,  # borders of all counties
color = "#800080", fillColor = "yellow", weight = 2, opacity = 0.5)
txmap
?leaflet::addPolygon
?leaflet::addPolygons
?leaflet::addPolygons
View(carCount)
carCount_selection2 <- carCount %>%
filter(is.na(count) | !count > 0)
View(txmap)
View(carCount_selection2)
carCount_selection2 <- carCount %>%
filter(is.na(count) | !count > 0)
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount_selection2,
color = "#000", fillColor = "red", weight = 1,
opacity = 0.75, fillOpacity = 0.8)
txmap
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount_selection2,
color = "#000", fillColor = "red", weight = 1,
opacity = 0.75, fillOpacity = 0.8) %>%
# Add the additional polygon! This woudl work for markers as well!!!
addPolygons(data = carCount_selection1,
color = "blue", fillColor = "white", weight = 5,
opacity = 0.75, fillOpacity = 0.8)
txmap
carCount <- carCount %>%
replace(is.na(.), 0)
View(carCount)
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount_selection2,
color = "#000", fillColor = "darkgreen", weight = 1,
opacity = 0.75, fillOpacity = 0.8) %>%
# Add the additional polygon! This woudl work for markers as well!!!
addPolygons(data = carCount_selection1,
color = "#800080", fillColor = "yellow", weight = 5,
opacity = 0.75, fillOpacity = 0.8)
txmap
bins <- c(0, 4, 8, 12, 16, Inf)
pal <- colorBin("BuPu", domain = carCount$count, bins = bins
txmap <- leaflet() %>%
library("RColorBrewer")
bins <- c(0, 4, 8, 12, 16, Inf)
pal <- colorBin("BuPu", domain = carCount$count, bins = bins)
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount,
fillColor = ~pal(count),
weight = 0.5,
opacity = 1,
color = "grey",
dashArray = "1",
fillOpacity = 0.8)
txmap
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount,
fillColor = ~pal(count),
weight = 0.5,
opacity = 1,
color = "grey",
dashArray = "1",
fillOpacity = 0.8,  #be careful, you need to switch the ) to a comma
highlightOptions = highlightOptions(
weight = 2,
color = "#666",
dashArray = "",
fillOpacity = 0.7,
bringToFront = TRUE)
)
txmap
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount,
fillColor = ~pal(count),
weight = 0.5,
opacity = 1,
color = "grey",
dashArray = "1",
fillOpacity = 0.8,  #be careful, you need to switch the ) to a comma
highlightOptions = highlightOptions(
weight = 2,
color = "#666",
dashArray = "",
fillOpacity = 0.7,
bringToFront = TRUE)
)
txmap
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount,
fillColor = ~pal(count),
weight = 0.5,
opacity = 1,
color = "grey",
dashArray = "4",
fillOpacity = 0.8,  #be careful, you need to switch the ) to a comma
highlightOptions = highlightOptions(
weight = 2,
color = "#666",
dashArray = "",
fillOpacity = 0.7,
bringToFront = TRUE)
)
txmap
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount,
fillColor = ~pal(count),
weight = 0.5,
opacity = 1,
color = "grey",
dashArray = "1",
fillOpacity = 0.8,  #be careful, you need to switch the ) to a comma
highlightOptions = highlightOptions(
weight = 2,
color = "#666",
dashArray = "",
fillOpacity = 0.7,
bringToFront = TRUE)
)
txmap
labels <- sprintf(
"<strong>%s</strong><br/>%g cars",
carCount$CNTY_NM, carCount$count
) %>% lapply(htmltools::HTML)
View(labels)
txmap %>% addLegend(pal = pal, values = count, opacity = 0.7, title = "Cars",
position = "bottomright")
library(leaflet)
library(leaflet.providers)
library(tidyverse)
library(readxl)
library(sf)
setwd("C:/Users/Eunice/Desktop/Spring2023/Web Mapping and Data Visualization/LA558_Eunice_Amissah/Assignment4")
carCount<- st_read("TXCarRally.shp")
carCount <- st_transform(carCount, crs = 4326)
carCount <- carCount %>% rename(count = first_name)
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount,
color = "purple", fill = NA, weight = 2)
txmap
carCount_selection1 <- carCount %>%
filter(CNTY_NM %in% c("Harris", "Uvalde", "Fayette"))
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount_selection1,
color = "#800080", fillColor = "yellow", weight = 2, opacity = 0.5)
txmap
carCount_selection2 <- carCount %>%
filter(is.na(count) | !count > 0)
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount_selection2,
color = "#000", fillColor = "darkgreen", weight = 1,
opacity = 0.75, fillOpacity = 0.8)
txmap
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount_selection2,
color = "#000", fillColor = "darkgreen", weight = 1,
opacity = 0.75, fillOpacity = 0.8) %>%
addPolygons(data = carCount_selection1,
color = "#800080", fillColor = "yellow", weight = 5,
opacity = 0.75, fillOpacity = 0.8)
txmap
carCount <- carCount %>%
replace(is.na(.), 0)
library("RColorBrewer")
#I think either Leaflet or tidyverse loads this for you
bins <- c(0, 2, 4, 6, 8, 10, 12, 14, Inf)
pal <- colorBin("BuPu", domain = carCount$count, bins = bins)
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount,
fillColor = ~pal(count),
weight = 0.5,
opacity = 1,
color = "grey",
dashArray = "1",
fillOpacity = 0.8)
txmap
display.brewer.all()
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount,
fillColor = ~pal(count),
weight = 0.5,
opacity = 1,
color = "grey",
dashArray = "1",
fillOpacity = 0.8)
txmap
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount,
fillColor = ~pal(count),
weight = 0.5,
opacity = 1,
color = "grey",
dashArray = "1",
fillOpacity = 0.8,  #be careful, you need to switch the ) to a comma
highlightOptions = highlightOptions(
weight = 2,
color = "#666",
dashArray = "",
fillOpacity = 0.7,
bringToFront = TRUE)
)
txmap
labels <- sprintf(
"<strong>%s</strong><br/>%g cars",
carCount$CNTY_NM, carCount$count
) %>% lapply(htmltools::HTML)
txmap <- leaflet() %>%
setView(-99.5, 32.2, 6)  %>%
addTiles() %>%
addPolygons(data = carCount,
fillColor = ~pal(count),
weight = 0.5,
opacity = 1,
color = "grey",
dashArray = "1",
fillOpacity = 0.8,
highlightOptions = highlightOptions(
weight = 2,
color = "#666",
dashArray = "",
fillOpacity = 0.7,
bringToFront = TRUE),
label = labels,
labelOptions = labelOptions(
style = list("font-weight" = "normal", padding = "3px 8px"),
textsize = "10px",
direction = "auto"))
txmap
labels <- sprintf(
"<strong>%s</strong><br/>%g cars",
carCount$CNTY_NM, carCount$count
) %>% lapply(htmltools::HTML)
txmap <- leaflet() %>%
setView(-99.5, 32.2, 5)  %>%
addTiles() %>%
addPolygons(data = carCount,
fillColor = ~pal(count),
weight = 0.5,
opacity = 1,
color = "grey",
dashArray = "1",
fillOpacity = 0.8,
highlightOptions = highlightOptions(
weight = 2,
color = "#666",
dashArray = "",
fillOpacity = 0.7,
bringToFront = TRUE),
label = labels,
labelOptions = labelOptions(
style = list("font-weight" = "normal", padding = "3px 8px"),
textsize = "10px",
direction = "auto"))
txmap
txmap %>% addLegend(pal = pal, values = count, opacity = 0.7, title = "Cars",
position = "bottomright")
